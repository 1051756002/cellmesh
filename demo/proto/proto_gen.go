// Auto generated by github.com/davyxu/cellmesh/protogen
// DO NOT EDIT!

package proto

import (
	"fmt"
	"reflect"
	"github.com/davyxu/cellnet"
	"github.com/davyxu/cellnet/codec"
	"github.com/davyxu/cellmesh/service"
	_ "github.com/davyxu/cellnet/codec/json"
)

// Make compiler import happy
var (
	_ service.Service
	_ cellnet.Peer
	_ cellnet.Codec
	_ reflect.Type
	_ fmt.Formatter
)

type ResultCode int32

const (
	ResultCode_NoError      ResultCode = 0
	ResultCode_GameNotReady ResultCode = 1
)

var (
	ResultCodeMapperValueByName = map[string]int32{
		"NoError":      0,
		"GameNotReady": 1,
	}

	ResultCodeMapperNameByValue = map[int32]string{
		0: "NoError",
		1: "GameNotReady",
	}

	ResultCodeMapperTrailingCommentByValue = map[int32]string{
		0: "",
		1: "",
	}
)

func (self ResultCode) String() string {
	return ResultCodeMapperNameByValue[int32(self)]
}

type ServerInfo struct {
	IP   string
	Port int32
}

type LoginREQ struct {
	Version  string
	Platform string
	UID      string
}

type LoginACK struct {
	Result    ResultCode
	Server    ServerInfo
	GameToken string
}

type VerifyREQ struct {
	GameToken string
}

type VerifyACK struct {
	Result ResultCode
}

type ChatREQ struct {
	Content string
}

type ChatACK struct {
	Content string
}

type ServiceIdentifyACK struct {
	SvcName string
	SvcID   string
	Host    string
	Port    int32
}

type RouterBindUserREQ struct {
	Token int64
}

type RouterBindUserACK struct {
}

func (self *ServerInfo) String() string         { return fmt.Sprintf("%+v", *self) }
func (self *LoginREQ) String() string           { return fmt.Sprintf("%+v", *self) }
func (self *LoginACK) String() string           { return fmt.Sprintf("%+v", *self) }
func (self *VerifyREQ) String() string          { return fmt.Sprintf("%+v", *self) }
func (self *VerifyACK) String() string          { return fmt.Sprintf("%+v", *self) }
func (self *ChatREQ) String() string            { return fmt.Sprintf("%+v", *self) }
func (self *ChatACK) String() string            { return fmt.Sprintf("%+v", *self) }
func (self *ServiceIdentifyACK) String() string { return fmt.Sprintf("%+v", *self) }
func (self *RouterBindUserREQ) String() string  { return fmt.Sprintf("%+v", *self) }
func (self *RouterBindUserACK) String() string  { return fmt.Sprintf("%+v", *self) }

// RPC client
func Login(targetProvider interface{}, req *LoginREQ, callback func(ack *LoginACK)) error {

	return service.Request(targetProvider, req, reflect.TypeOf((*LoginACK)(nil)).Elem(), func(response interface{}) {
		callback(response.(*LoginACK))
	})
}

// RPC server
func Serve_Login(dis *service.Dispatcher, userHandler func(event *service.Event, req *LoginREQ, ack *LoginACK)) {

	dis.AddCall("proto.LoginREQ", &service.MethodInfo{
		RequestType: reflect.TypeOf((*LoginREQ)(nil)).Elem(),
		NewResponse: func() interface{} {
			return &LoginACK{}
		},
		Handler: func(event *service.Event) {
			userHandler(event, event.Request.(*LoginREQ), event.Response.(*LoginACK))
		},
	})
}

// RPC client
func Verify(targetProvider interface{}, req *VerifyREQ, callback func(ack *VerifyACK)) error {

	return service.Request(targetProvider, req, reflect.TypeOf((*VerifyACK)(nil)).Elem(), func(response interface{}) {
		callback(response.(*VerifyACK))
	})
}

// RPC server
func Serve_Verify(dis *service.Dispatcher, userHandler func(event *service.Event, req *VerifyREQ, ack *VerifyACK)) {

	dis.AddCall("proto.VerifyREQ", &service.MethodInfo{
		RequestType: reflect.TypeOf((*VerifyREQ)(nil)).Elem(),
		NewResponse: func() interface{} {
			return &VerifyACK{}
		},
		Handler: func(event *service.Event) {
			userHandler(event, event.Request.(*VerifyREQ), event.Response.(*VerifyACK))
		},
	})
}

// RPC client
func Chat(targetProvider interface{}, req *ChatREQ, callback func(ack *ChatACK)) error {

	return service.Request(targetProvider, req, reflect.TypeOf((*ChatACK)(nil)).Elem(), func(response interface{}) {
		callback(response.(*ChatACK))
	})
}

// RPC server
func Serve_Chat(dis *service.Dispatcher, userHandler func(event *service.Event, req *ChatREQ, ack *ChatACK)) {

	dis.AddCall("proto.ChatREQ", &service.MethodInfo{
		RequestType: reflect.TypeOf((*ChatREQ)(nil)).Elem(),
		NewResponse: func() interface{} {
			return &ChatACK{}
		},
		Handler: func(event *service.Event) {
			userHandler(event, event.Request.(*ChatREQ), event.Response.(*ChatACK))
		},
	})
}

// RPC client
func RouterBindUser(targetProvider interface{}, req *RouterBindUserREQ, callback func(ack *RouterBindUserACK)) error {

	return service.Request(targetProvider, req, reflect.TypeOf((*RouterBindUserACK)(nil)).Elem(), func(response interface{}) {
		callback(response.(*RouterBindUserACK))
	})
}

// RPC server
func Serve_RouterBindUser(dis *service.Dispatcher, userHandler func(event *service.Event, req *RouterBindUserREQ, ack *RouterBindUserACK)) {

	dis.AddCall("proto.RouterBindUserREQ", &service.MethodInfo{
		RequestType: reflect.TypeOf((*RouterBindUserREQ)(nil)).Elem(),
		NewResponse: func() interface{} {
			return &RouterBindUserACK{}
		},
		Handler: func(event *service.Event) {
			userHandler(event, event.Request.(*RouterBindUserREQ), event.Response.(*RouterBindUserACK))
		},
	})
}

func init() {

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("json"),
		Type:  reflect.TypeOf((*LoginREQ)(nil)).Elem(),
		ID:    39009,
	}).SetContext("service", "demo.login")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("json"),
		Type:  reflect.TypeOf((*LoginACK)(nil)).Elem(),
		ID:    840,
	}).SetContext("service", "demo.login")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*VerifyREQ)(nil)).Elem(),
		ID:    23773,
	}).SetContext("service", "demo.game")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*VerifyACK)(nil)).Elem(),
		ID:    51140,
	}).SetContext("service", "demo.game")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*ChatREQ)(nil)).Elem(),
		ID:    5832,
	}).SetContext("service", "demo.game")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*ChatACK)(nil)).Elem(),
		ID:    33199,
	}).SetContext("service", "demo.game")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*ServiceIdentifyACK)(nil)).Elem(),
		ID:    49180,
	}).SetContext("service", "")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*RouterBindUserREQ)(nil)).Elem(),
		ID:    34501,
	}).SetContext("service", "demo.router")

	cellnet.RegisterMessageMeta(&cellnet.MessageMeta{
		Codec: codec.MustGetCodec("binary"),
		Type:  reflect.TypeOf((*RouterBindUserACK)(nil)).Elem(),
		ID:    61868,
	}).SetContext("service", "demo.router")

}
